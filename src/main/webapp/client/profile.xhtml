<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../template.xhtml">

            <ui:define name="content">

                <p:panel style="height: 100%;" rendered="#{clientController.selected ne null}">
                    <f:facet name="header" >
                        <p:outputLabel value="#{clientController.selected.person.nameWithTitle}" ></p:outputLabel>
                        <p:spacer height="0" width="10" ></p:spacer>
                        <p:outputLabel value="#{clientController.selected.person.age}" ></p:outputLabel>
                    </f:facet>

                    <p:panelGrid styleClass="alignTop">

                        <p:row >

                            <p:column rowspan="4" >

                                <h:form>

                                    <p:panelGrid columns="2" >

                                        <f:facet name="header" >
                                            <p:outputLabel value="Demographic Details" style="float: left;" ></p:outputLabel>
                                            <p:commandLink value="Edit" ajax="false" action="client" style="float: right;" ></p:commandLink>
                                        </f:facet>

                                        <p:outputLabel value="Name:" for="name" />
                                        <p:outputLabel id="name" value="#{clientController.selected.person.nameWithTitle}" title="Name" />

                                        <p:outputLabel value="Sex:" for="sex" />
                                        <p:outputLabel id="sex"  value="#{clientController.selected.person.sex.name}"  />

                                        <p:outputLabel value="Phn:" for="phn" />
                                        <p:outputLabel id="phn"  value="#{clientController.selected.phn}" title="Phn" />


                                        <p:outputLabel value="Phone:" for="phone1" />
                                        <p:outputLabel id="phone1"  
                                                       value="#{clientController.selected.person.phone1}, #{clientController.selected.person.phone2}" title="Phone1" />


                                        <p:outputLabel value="Area" for="address" />
                                        <p:outputLabel id="address" 
                                                       value="#{clientController.selected.person.gnArea.name}" title="Address" />


                                        <p:outputLabel value="DateOfBirth:" for="dateOfBirth" />
                                        <p:outputLabel id="dateOfBirth" value="#{clientController.selected.person.dateOfBirth}"
                                                       >
                                            <f:convertDateTime pattern="dd MMMM yyyy" ></f:convertDateTime>
                                        </p:outputLabel>

                                        <p:outputLabel value="Age" />
                                        <p:outputLabel value="#{clientController.selected.person.age}"/>


                                    </p:panelGrid>

                                </h:form>

                            </p:column>

                            <p:column >
                                <h:form>
                                    <p:panelGrid columns="1"  style="width: 100%" >
                                        <f:facet name="header" >
                                            <p:outputLabel value="Current Medications" style="float: left;"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:commandLink ajax="false" value="View Details" action="#"></p:commandLink>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:column>

                            <p:column >
                                <h:form>
                                    <p:panelGrid columns="1" style="width: 100%" >
                                        <f:facet name="header" >
                                            <p:outputLabel value="Recent HLS Clinic Visits" style="float: left;"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:commandLink ajax="false" value="View Details" action="#"></p:commandLink>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:column>

                            <p:column >
                                <h:form >
                                    <p:panelGrid  columns="3" style="width: 100%" >
                                        <f:facet name="header">
                                            <p:outputLabel value="Enroll in an HLC Clinic" ></p:outputLabel>
                                        </f:facet>

                                        <p:outputLabel value="Clinic" ></p:outputLabel>
                                        <p:selectOneMenu value="#{clientController.selectedHlcClinic}" >
                                            <f:selectItems value="#{institutionController.myHlcClinics}" 
                                                           var="shlc" itemValue="#{shlc}" itemLabel="#{shlc.name}"></f:selectItems>
                                        </p:selectOneMenu>
                                        <p:spacer/>

                                        <p:outputLabel value="Clinic No" ></p:outputLabel>
                                        <p:inputText autocomplete="off" value="#{clientController.hlcEnrollNumberStr}" ></p:inputText>
                                        <p:commandLink value="Generate" ></p:commandLink>

                                        <p:spacer></p:spacer>
                                        <p:commandButton value="Enroll" ajax="false" action="#{clientController.enrollInHlcClinic()}" ></p:commandButton>
                                        <p:spacer></p:spacer>

                                    </p:panelGrid>
                                </h:form>
                            </p:column>
                        </p:row>

                        <p:row >
                            <p:column >
                                <h:form>
                                    <p:panelGrid columns="1" style="width: 100%" >
                                        <f:facet name="header" >
                                            <p:outputLabel value="Recent Tests" style="float: left;"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:commandLink ajax="false" value="View Details" action="#"></p:commandLink>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:column>

                            <p:column >
                                <h:form>
                                    <p:panelGrid columns="1" style="width: 100%" >
                                        <f:facet name="header" >
                                            <p:outputLabel value="Recent Other Clinics Visits" style="float: left;"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:commandLink ajax="false" value="View Details" action="#"></p:commandLink>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:column>


                            <p:column >
                                <h:form >
                                    <p:dataTable value="#{clientController.selectedClientsHlcs}" var="chlce" >
                                        <f:facet name="header" >
                                            <p:outputLabel value="Current Clinics" ></p:outputLabel>
                                        </f:facet>
                                        <p:column headerText="Clinic" >
                                            <p:outputLabel value="#{chlce.institution.name}" ></p:outputLabel>
                                        </p:column>
                                        <p:column headerText="Number" >
                                            <p:outputLabel value="#{chlce.institution.name}" ></p:outputLabel>
                                        </p:column>
                                        <p:column headerText="New Encounter" >
                                            <p:commandButton value="New " ></p:commandButton>
                                        </p:column>
                                    </p:dataTable>
                                    
                                    
                                </h:form>
                            </p:column>

                        </p:row>

                        <p:row >
                            <p:column >
                                <h:form>
                                    <p:panelGrid columns="1" style="width: 100%" >
                                        <f:facet name="header" >
                                            <p:outputLabel value="Recent OPD Visits" style="float: left;"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:commandLink ajax="false" value="View Details" action="#"></p:commandLink>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:column>
                            <p:column >
                                <h:form>
                                    <p:panelGrid columns="1" style="width: 100%" >
                                        <f:facet name="header" >
                                            <p:outputLabel value="Recent Admissions" style="float: left;"></p:outputLabel>
                                            <p:spacer height="1" width="5" ></p:spacer>
                                            <p:commandLink ajax="false" value="View Details" action="#"></p:commandLink>
                                        </f:facet>
                                    </p:panelGrid>
                                </h:form>
                            </p:column>
                        </p:row>

                    </p:panelGrid>


                </p:panel>




            </ui:define>

        </ui:composition>

    </body>
</html>
